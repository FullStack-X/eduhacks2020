<div class="layui-card layadmin-header">
    <div class="layui-breadcrumb" lay-filter="breadcrumb">
        <a lay-href="">主页</a>
        <a><cite>个人中心</cite></a>
        <a><cite>学期课程</cite></a>
        <a><cite>重修申请</cite></a>
    </div>
</div>

<div class="layui-fluid">
    <div class="layui-card">
        <div class="layui-form layui-card-header layuiadmin-card-header-auto" lay-filter="app-content-list">
            <div class="layui-form-item">
                <div class="layui-inline">
                    <label class="layui-form-label">课程 ID</label>
                    <div class="layui-input-inline">
                        <input type="text" name="id" placeholder="请输入" autocomplete="off" class="layui-input" id="courseID">
                    </div>
                </div>
                <div class="layui-inline">
                    <button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search"
                            id="score_query">
                        <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="layui-card-body">
                        <table id="LAY-app-content-score_query" lay-filter="LAY-app-content-score_query"></table>
            <script></script>
            <script type="text/html" id="buttonTpl">
                <button class="layui-btn  layui-btn-danger layui-btn-xs">挂科</button>
            </script>
            <script type="text/html" id="table-content-list">
                <a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="apply_revision"><i
                        class="layui-icon layui-icon-refresh"></i>申请重修</a>
            </script>
        </div>
    </div>
</div>
<script>
    layui.use('contlist', layui.factory('contlist')).use(['admin', 'contlist', 'table', 'upload'], function () {
        var $ = layui.jquery
            , admin = layui.admin
            , view = layui.view
            , table = layui.table
            , form = layui.form
            , upload = layui.upload;

        form.render(null, 'app-content-list');

        //查询存证记录（学生期末成绩）
        //监听提交
        form.on('submit(LAY-app-contlist-search)', function (data) {
            var field = data.field;
            var $courseID = $.trim($('#courseID').val()); //去空格

            //重载
            if($courseID){
                table.reload('LAY-app-content-score_query', {
                    url: './json/content/score.js'
                    ,where: field //设定异步数据接口的额外参数
                });
            }
        });
    });
</script>